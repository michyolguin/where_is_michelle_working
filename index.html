<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Where is Michelle working today?</title>
  <meta name="description" content="A tiny one-page status and schedule for Michelle." />
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.4.4/dist/tailwind.min.css" rel="stylesheet">
  <style>
    .ping::before {content:""; position:absolute; inset:-6px; border-radius:9999px; border:2px solid rgba(59,130,246,.35); animation: ping 1.5s cubic-bezier(0, 0, 0.2, 1) infinite;}
    @keyframes ping {75%, 100% {transform: scale(1.6); opacity: 0;}}
  </style>
</head>
<body class="min-h-screen bg-slate-50 text-slate-900 antialiased">
  <div class="mx-auto max-w-2xl p-6 sm:p-8">
    <!-- Header -->
    <header class="flex items-center justify-between gap-4">
      <h1 class="text-2xl sm:text-3xl font-semibold tracking-tight">Where is <span class="font-bold">Michelle</span> working today?</h1>
      <div class="relative">
        <span id="statusDot" class="inline-block h-3 w-3 rounded-full bg-blue-500 ping"></span>
      </div>
    </header>

    <!-- Today / location card -->
    <section class="mt-6 rounded-2xl bg-white shadow-sm ring-1 ring-black/5">
      <div class="p-5 sm:p-6">
        <div class="flex flex-col sm:flex-row sm:items-baseline sm:justify-between gap-3">
          <div>
            <p id="todayText" class="text-sm text-slate-500">Today</p>
            <h2 id="locationText" class="mt-1 text-xl sm:text-2xl font-semibold"></h2>
            <p id="noteText" class="mt-1 text-slate-600"></p>
          </div>
          <div class="text-right">
            <p id="tzText" class="text-xs text-slate-500"></p>
          </div>
        </div>
      </div>

      <div id="ahcdBanner" class="hidden border-t border-slate-100 bg-amber-50">
        <div class="p-4 text-sm text-amber-900">
          <strong>Not at the Albert Hirschman Centre today.</strong>
          <span class="block sm:inline"> If you need help, you can reach the rest of the AHCD staff at
            <a class="underline" href="mailto:democracy.payments@graduateinstitute.ch">democracy.payments</a>,
            <a class="underline" href="mailto:democracy.conferences@graduateinstitute.ch">democracy.conferences</a>,
            or <a class="underline" href="mailto:democracy@graduateinstitute.ch">democracy</a>
            <span class="sm:inline">@graduateinstitute.ch</span>.
          </span>
        </div>
      </div>
    </section>

    <!-- Weekly Schedule -->
    <section class="mt-6 rounded-2xl bg-white shadow-sm ring-1 ring-black/5">
      <div class="p-5 sm:p-6">
        <h3 class="text-lg font-semibold">Weekly schedule</h3>
        <ul class="mt-3 divide-y divide-slate-100 text-sm text-slate-700">
          <li class="py-2"><strong>Monday:</strong> Albert Hirschman Centre on Democracy (AHCD)</li>
          <li class="py-2"><strong>Tuesday:</strong> Albert Hirschman Centre on Democracy (AHCD)</li>
          <li class="py-2"><strong>Wednesday morning:</strong> Communications Office<br><strong>Wednesday afternoon:</strong> AHCD</li>
          <li class="py-2"><strong>Thursday:</strong> Communications Office</li>
          <li class="py-2"><strong>Friday morning:</strong> AHCD<br><strong>Friday afternoon:</strong> Global Health Centre</li>
        </ul>
      </div>
    </section>

    <footer class="mt-8 text-center text-xs text-slate-500">
      <p>This page updates automatically based on the day of the week.</p>
    </footer>
  </div>

  <script>
    const schedule = {
      1: "Albert Hirschman Centre on Democracy (AHCD)",
      2: "Albert Hirschman Centre on Democracy (AHCD)",
      3: { morning: "Communications Office", afternoon: "AHCD" },
      4: "Communications Office",
      5: { morning: "AHCD", afternoon: "Global Health Centre" }
    };

    function todayInZurich() {
      const now = new Date();
      const fmt = new Intl.DateTimeFormat('en-GB', {
        weekday: 'long', year: 'numeric', month: 'long', day: 'numeric',
        timeZone: 'Europe/Zurich'
      });
      return fmt.format(now);
    }

    function tzAbbrev() {
      const time = new Intl.DateTimeFormat('en-GB', { hour: '2-digit', minute: '2-digit', timeZone: 'Europe/Zurich' }).format(new Date());
      return `Europe/Zurich — ${time}`;
    }

    const now = new Date();
    const day = new Intl.DateTimeFormat('en-GB', { weekday: 'long', timeZone: 'Europe/Zurich' }).format(now);
    const weekday = now.toLocaleDateString('en-GB', { weekday: 'long', timeZone: 'Europe/Zurich' });

    let todayLoc = "";
    if (weekday === "Monday") todayLoc = schedule[1];
    if (weekday === "Tuesday") todayLoc = schedule[2];
    if (weekday === "Wednesday") todayLoc = `${schedule[3].morning} (morning), ${schedule[3].afternoon} (afternoon)`;
    if (weekday === "Thursday") todayLoc = schedule[4];
    if (weekday === "Friday") todayLoc = `${schedule[5].morning} (morning), ${schedule[5].afternoon} (afternoon)`;
    if (["Saturday","Sunday"].includes(weekday)) todayLoc = "Not scheduled — check email.";

    document.getElementById('todayText').textContent = todayInZurich();
    document.getElementById('tzText').textContent = tzAbbrev();
    document.getElementById('locationText').textContent = todayLoc;

    const atAHCD = /hirschman|ahcd/i.test(todayLoc);
    if (!atAHCD) {
      document.getElementById('ahcdBanner').classList.remove('hidden');
      document.getElementById('statusDot').classList.replace('bg-blue-500', 'bg-amber-500');
    }
  </script>
</body>
</html>
